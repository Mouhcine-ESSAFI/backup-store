System.register(["./app-legacy.8MsYkguj.js"],(function(e,n){"use strict";var o,r,a,t,l,i,c,s,u,d,h,p,m,g,b,y,v,_,f,k,C,L,I,w,N,S,x,D,A,V,q,z,R,W,$,B,E,O;return{setters:[e=>{o=e.bV,r=e.i,a=e.bW,t=e.bX,l=e.aK,i=e.a9,c=e.b6,s=e.a,u=e.aD,d=e.bd,h=e.T,p=e.P,m=e.aC,g=e.a7,b=e.aB,y=e.aG,v=e.aw,_=e.bY,f=e.bZ,k=e.b_,C=e.b$,L=e.c0,I=e.c1,w=e.aV,N=e.c2,S=e.aX,x=e.V,D=e.bR,A=e.c3,V=e.c4,q=e.c5,z=e.D,R=e.c6,W=e.k,$=e.bf,B=e.Q,E=e.a6,O=e.ax}],execute:function(){function n({shopId:e,shopName:n,shopLogo:o,amount:a,showDivider:t,isLocalShop:l}){const[i,c]=u(!1),{i18n:D}=r();return s(x,{children:[s(d,{columns:["auto","fill"],spacing:"base",children:[s(h,{children:s(p,{size:"small",src:o,alt:n})}),s(h,{blockAlignment:"center",children:[s(m,{"aria-expanded":i,"aria-controls":`separate-payments-collapsible-${e}`,onClick:()=>c(!i),children:s(d,{columns:["fill","auto"],spacing:"base",children:[s(g,{type:"strong",children:n}),s(d,{columns:"auto",spacing:"small200",blockAlignment:"center",children:[!i&&s(g,{type:"strong",children:D.formatCurrency(a.amount,{currency:a.currencyCode,form:"short"})}),s(b,{type:i?"chevron-up":"chevron-down",size:"small-200"})]})]})}),s(y,{open:i,id:`separate-payments-collapsible-${e}`,children:[s(v,{spacing:"tight"}),s(_,{title:D.translate("order_summary.cost_table_title"),children:[s(f,{shopId:e}),l&&s(k,{disableTooltip:!0}),s(C,{shopId:e}),s(L,{children:[s(I,{children:s(w,{level:1,children:D.translate("order_summary.total_label")})}),s(N,{children:s(w,{level:1,children:D.formatCurrency(a.amount,{currency:a.currencyCode,form:"short"})})})]})]})]})]})]}),t&&s(S,{direction:"inline",borderWidth:"base"})]})}e({R:function({children:e}){const{telemetryClient:n}=r(),o=a(),u=t(),d=l(),h=l(),p=i();return c((e=>{d.current=void 0,h.current=void 0,"violations"in e&&(d.current=e.violations.map((e=>e.code))),"reasons"in e&&(h.current=e.reasons)})),s("div",{onClickCapture:function(e){var r;e.detail>2&&(n.counter({name:"pay_now_rage_click",value:1}),n.log("rage_click_capture_pay_now_rage_click_detected","pay_now_rage_click",{customerProfile:null==u?void 0:u.__typename,numberOfErrors:null!==(r=null==o?void 0:o.numberOfErrors())&&void 0!==r?r:"unknown",lastInterceptionReasons:h.current,lastViolations:d.current,blocked:p}))},children:e})},S:function(){var e;const{i18n:o}=r(),{loading:a}=D(),t=A(),l=V(),{shop:{name:i,id:c,brandSettings:u,remoteShopsConfigMap:m}}=r(),b=q(),y=z(R),v=W((()=>{const e=[];for(const[r,a]of l){if(!a)continue;if(b&&r===c){var n;e.push({shopName:i,shopLogo:null==u||null===(n=u.squareLogo)||void 0===n?void 0:n.url,shopId:c,amount:a});continue}const t=null==m?void 0:m.get(r);var o;t&&e.push({shopName:t.name,shopId:r,shopLogo:null===(o=t.brandSettings)||void 0===o||null===(o=o.squareLogo)||void 0===o?void 0:o.url,amount:a})}return e}),[l,c,i,null==u||null===(e=u.squareLogo)||void 0===e?void 0:e.url,m,b]);if(a||!t)return null;const _=s(E,{textDecoration:"none",overlay:s($,{heading:o.translate("payment.payments"),children:s(x,{spacing:"base",children:v.map(((e,r)=>y?s(n,{shopId:e.shopId,shopName:e.shopName,shopLogo:e.shopLogo,amount:e.amount,showDivider:r!==v.length-1,isLocalShop:e.shopId===c},e.shopId):s(B,{children:[s(d,{columns:["auto","fill","auto"],spacing:"base",children:[s(h,{children:s(p,{size:"small",src:e.shopLogo,alt:e.shopName})}),s(h,{blockAlignment:"center",children:s(g,{children:e.shopName})}),s(h,{blockAlignment:"center",children:s(g,{type:"strong",children:o.formatCurrency(e.amount.amount,{currency:e.amount.currencyCode,form:"short"})})})]}),r!==v.length-1&&s(S,{direction:"inline",borderWidth:"base"})]},e.shopName||r)))})}),children:o.translate("payment.separate_payments_text")});return s(O,{color:"subdued",children:o.translate("payment.separate_payments_label",{separate_payments_link:_})})},u:function(){const{value:e}=o();return Boolean(e)}})}}}));
