System.register(["./app-legacy.CVtZXpP_.js"],(function(e,n){"use strict";var o,r,t,a,l,i,c,s,u,d,h,p,m,g,b,y,v,_,f,k,C,L,I,N,w,S,D,x,A,$,q,z,E,R,T,W,M;return{setters:[e=>{o=e.bX,r=e.i,t=e.bY,a=e.bZ,l=e.aM,i=e.$,c=e.b8,s=e.a,u=e.aF,d=e.bf,h=e.T,p=e.P,m=e.aE,g=e.at,b=e.as,y=e.aI,v=e.an,_=e.b_,f=e.b$,k=e.c0,C=e.c1,L=e.c2,I=e.aX,N=e.c3,w=e.aZ,S=e.W,D=e.bT,x=e.c4,A=e.c5,$=e.c6,q=e.D,z=e.c7,E=e.k,R=e.bh,T=e.R,W=e.aD,M=e.ao}],execute:function(){function n({shopId:e,shopName:n,shopLogo:o,amount:t,showDivider:a,isLocalShop:l}){const[i,c]=u(!1),{i18n:D}=r();return s(S,{children:[s(d,{columns:["auto","fill"],spacing:"base",children:[s(h,{children:s(p,{size:"small",src:o,alt:n})}),s(h,{blockAlignment:"center",children:[s(m,{"aria-expanded":i,"aria-controls":`separate-payments-collapsible-${e}`,onClick:()=>c(!i),children:s(d,{columns:["fill","auto"],spacing:"base",children:[s(g,{type:"strong",children:n}),s(d,{columns:"auto",spacing:"small200",blockAlignment:"center",children:[!i&&s(g,{type:"strong",children:D.formatCurrency(t.amount,{currency:t.currencyCode,form:"short"})}),s(b,{type:i?"chevron-up":"chevron-down",size:"small-200"})]})]})}),s(y,{open:i,id:`separate-payments-collapsible-${e}`,children:[s(v,{spacing:"tight"}),s(_,{title:D.translate("order_summary.cost_table_title"),children:[s(f,{shopId:e}),l&&s(k,{disableTooltip:!0}),s(C,{children:[s(L,{children:s(I,{level:1,children:D.translate("order_summary.total_label")})}),s(N,{children:s(I,{level:1,children:D.formatCurrency(t.amount,{currency:t.currencyCode,form:"short"})})})]})]})]})]})]}),a&&s(w,{direction:"inline",borderWidth:"base"})]})}e({R:function({children:e}){const{telemetryClient:n}=r(),o=t(),u=a(),d=l(),h=l(),p=i();return c((e=>{d.current=void 0,h.current=void 0,"violations"in e&&(d.current=e.violations.map((e=>e.code))),"reasons"in e&&(h.current=e.reasons)})),s("div",{onClickCapture:function(e){var r;e.detail>2&&(n.counter({name:"pay_now_rage_click",value:1}),n.log("rage_click_capture_pay_now_rage_click_detected","pay_now_rage_click",{customerProfile:null==u?void 0:u.__typename,numberOfErrors:null!==(r=null==o?void 0:o.numberOfErrors())&&void 0!==r?r:"unknown",lastInterceptionReasons:h.current,lastViolations:d.current,blocked:p}))},children:e})},S:function(){var e;const{i18n:o}=r(),{loading:t}=D(),a=x(),l=A(),{shop:{name:i,id:c,brandSettings:u,remoteShopsConfigMap:m}}=r(),b=$(),y=q(z),v=E((()=>{const e=[];for(const[r,t]of l){if(!t)continue;if(b&&r===c){var n;e.push({shopName:i,shopLogo:null==u||null===(n=u.squareLogo)||void 0===n?void 0:n.url,shopId:c,amount:t});continue}const a=null==m?void 0:m.get(r);var o;a&&e.push({shopName:a.name,shopId:r,shopLogo:null===(o=a.brandSettings)||void 0===o||null===(o=o.squareLogo)||void 0===o?void 0:o.url,amount:t})}return e}),[l,c,i,null==u||null===(e=u.squareLogo)||void 0===e?void 0:e.url,m,b]);if(t||!a)return null;const _=s(W,{textDecoration:"none",overlay:s(R,{heading:o.translate("payment.payments"),children:s(S,{spacing:"base",children:v.map(((e,r)=>y?s(n,{shopId:e.shopId,shopName:e.shopName,shopLogo:e.shopLogo,amount:e.amount,showDivider:r!==v.length-1,isLocalShop:e.shopId===c},e.shopId):s(T,{children:[s(d,{columns:["auto","fill","auto"],spacing:"base",children:[s(h,{children:s(p,{size:"small",src:e.shopLogo,alt:e.shopName})}),s(h,{blockAlignment:"center",children:s(g,{children:e.shopName})}),s(h,{blockAlignment:"center",children:s(g,{type:"strong",children:o.formatCurrency(e.amount.amount,{currency:e.amount.currencyCode,form:"short"})})})]}),r!==v.length-1&&s(w,{direction:"inline",borderWidth:"base"})]},e.shopName||r)))})}),children:o.translate("payment.separate_payments_text")});return s(M,{color:"subdued",children:o.translate("payment.separate_payments_label",{separate_payments_link:_})})},u:function(){const{value:e}=o();return Boolean(e)}})}}}));
